---
// Importa tu CSS global
import "../styles/global.css";
---

<nav class="fixed top-0 left-0 w-full z-50 backdrop-blur-sm">
  <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="/Logo_white.png" class="h-20" alt="Flowbite Logo" />
      <span class="self-center text-2xl font-semibold whitespace-nowrap text-white typing-effect">MTechonology</span>
    </a>

    <!-- Botón móvil -->
    <div class="flex md:order-2">
      <button id="menu-toggle" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600">
        <span class="sr-only">Open main menu</span>
        <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
          <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 1h15M1 7h15M1 13h15"/>
        </svg>
      </button>
    </div>

    <!-- Menú -->
    <div id="navbar-search" class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1">
      <ul class="flex flex-col p-4 md:p-0 mt-4 font-medium md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 border border-white rounded-lg  md:border-0 dark:bg-gray-800  dark:border-gray-700 bg-cyan-[rgba(255,255,255,0.1)]">
        <li><a href="#Hero" class="block py-2 px-3 md:p-0 text-green-500">Inicio</a></li>
        <li><a href="#Products" class="block py-2 px-3 text-white md:hover:text-green-500 md:p-0">Productos</a></li>
        <li><a href="#Payments" class="block py-2 px-3 text-white md:hover:text-green-500 md:p-0">Metodos de pago</a></li>
        <li><a href="#Care" class="block py-2 px-3 text-white md:hover:text-green-500 md:p-0">Cuidado de productos</a></li>
        <li><a href="#Contact" class="block py-2 px-3 text-white md:hover:text-green-500 md:p-0">Contacto</a></li>
      </ul>
    </div>
  </div>

  <!-- JS para toggle -->
 <script type="module">
  const toggleButton = document.getElementById('menu-toggle');
  const menu = document.getElementById('navbar-search');

  toggleButton.addEventListener('click', (event) => {
    event.stopPropagation();
    menu.classList.toggle('hidden');

    // Detectar si estamos en modo móvil (md:hidden visible solo en móviles)
    if (window.innerWidth < 768) {
      document.body.classList.toggle('mobile-menu-open', !menu.classList.contains('hidden'));
    }
  });

  menu.addEventListener('click', (event) => {
    event.stopPropagation();
  });

  document.addEventListener('click', () => {
    if (!menu.classList.contains('hidden')) {
      menu.classList.add('hidden');

      // Remover overlay en móviles
      if (window.innerWidth < 768) {
        document.body.classList.remove('mobile-menu-open');
      }
    }
  });
</script>
</nav>

<style> 
@media (max-width: 767px) {
  body.mobile-menu-open::before {
    content: "";
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0, 0, 0, 0.5); /* Fondo oscuro */
    z-index: 40; /* Debajo del menú que tiene z-50 */
  }
}
</style>
